<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>Custom Wordle Scores</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <script type="module" src="./app.ts"></script>
  </head>
  <body>
    <div class="container mx-auto p-20" >
      <div data-controller="theme-generator output-clipboard preferences-saver">
        <h1 class="text-cyan-400 text-4xl text-center pb-4">Custom Wordle Scores</h1>
        <div class="flex flex-col md:flex-row justify-center">
          <div class="md:px-10 md:w-72 space-y-4">
            Customise your tiles
            <div class="border border-gray-300 rounded-lg p-2">
              <label for="miss">Miss üü®</label>
              <div data-controller="emoji-picker" class="relative">
                <input class="border border-black w-full"
                       placeholder="Type to search"
                       type="text"
                       id="miss"
                       data-emoji-picker-target="input"
                       data-theme-generator-target="miss"
                       data-preferences-saver-target="input"
                       data-action="emoji-picker#search blur->emoji-picker#closeSearchResults selected->theme-generator#change click->emoji-picker#search">
                <div data-emoji-picker-target="results" class="absolute z-10 bg-white border border-black h-32 overflow-y-scroll hidden w-full lg:w-64">
                </div>
              </div>
              </div>
              <div class="border border-gray-300 rounded-lg p-2">
                <label for="wrong">Wrong ‚¨õÔ∏è</label>
                <div data-controller="emoji-picker" class="relative">
                  <input class="border border-black w-full"
                         placeholder="Type to search"
                         type="text"
                         id="wrong"
                         data-preferences-saver-target="input"
                         data-emoji-picker-target="input"
                         data-theme-generator-target="wrong"
                         data-action="emoji-picker#search blur->emoji-picker#closeSearchResults selected->theme-generator#change click->emoji-picker#search">
                  <div data-emoji-picker-target="results" class="absolute z-10 bg-white border border-black h-32 overflow-y-scroll hidden w-full lg:w-64">
                  </div>
                </div>

                </div>
                <div class="border border-gray-300 rounded-lg p-2">
                  <label for="hit">Hit üü©</label>
                  <div data-controller="emoji-picker" class="relative">
                    <input class="border border-black w-full"
                           placeholder="Type to search"
                           type="text"
                           id="hit"
                           data-preferences-saver-target="input"
                           data-emoji-picker-target="input"
                           data-theme-generator-target="hit"
                           data-action="emoji-picker#search blur->emoji-picker#closeSearchResults selected->theme-generator#change click->emoji-picker#search">
                    <div data-emoji-picker-target="results" class="absolute z-10 bg-white border border-black h-32 overflow-y-scroll hidden w-full lg:w-64">
                  </div>
                </div>
                </div>
                <div class="flex space-x-2 justify-center">
                  <button class="bg-cyan-400 border p-1 rounded border-black text-white text-xs" data-action="preferences-saver#clearPreferences">Clear Saved Theme</button>
                  <button class="bg-cyan-400 border p-1 rounded border-black text-white text-xs" data-action="preferences-saver#saveToPreferences">Save Theme</button>
                </div>
              </div>
              <div class="flex pt-4 md:pt-0 flex-row text-center sm:space-x-4 justify-center flex-wrap">
                <div>
                  Paste score here üëá
                  <textarea rows=9 class="block w-36 resize-none mx-auto text-center border border-gray-300 rounded-lg" data-theme-generator-target="input" data-action="theme-generator#change">
                  </textarea>
                </div>
                <div class="space-y-4">
                  Themed score
                  <textarea rows=9 readonly class="block w-36 resize-none mx-auto text-center border border-gray-300 rounded-lg" data-theme-generator-target="output" data-output-clipboard-target="input"></textarea>
                  <div class="flex flex-col items-center">
                    <button class="bg-cyan-400 border p-1 rounded border-black text-white text-xs" data-action="output-clipboard#copyToClipboard">Copy to clipboard</button>
                  </div>
                </div>
              </div>
            </div>
            <div class="flex justify-center">
              <span id="flash-message" class="opacity-0 transition-opacity"></span>
            </div>
          </div>
        </div>


        <div id="results-container">
          <% emojis do |emoji| %>
            <span data-emoji-picker-target="result" data-search-term="<%=emoji.short_code%>" data-action="mousedown->emoji-picker#select"  class="hidden cursor-pointer border-b border-b-slate-200 p-2 pl-1 text-lg md:text-base md:p-0 justify-center" data-value="<%=emoji.emoji%>">
              <%= emoji.display_name %>
            </span>
          <% end %>
        </div>
      </body>
    </html>
